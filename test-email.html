<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Email – Verification to rahulkumar53500@gmail.com</title>
    <style>
        body { font-family: system-ui, sans-serif; max-width: 480px; margin: 40px auto; padding: 20px; }
        h1 { font-size: 1.25rem; margin-bottom: 8px; }
        p { color: #555; margin-bottom: 20px; }
        button { padding: 12px 24px; font-size: 1rem; cursor: pointer; background: #2d5a27; color: #fff; border: none; border-radius: 6px; }
        button:hover { background: #23491f; }
        button:disabled { opacity: 0.6; cursor: not-allowed; }
        #result { margin-top: 16px; padding: 12px; border-radius: 6px; display: none; }
        #result.success { background: #d4edda; color: #155724; display: block; }
        #result.error { background: #f8d7da; color: #721c24; display: block; }
    </style>
</head>
<body>
    <h1>Test email verification</h1>
    <p>Click the button to send a test email to <strong>rahulkumar53500@gmail.com</strong> using your EmailJS setup.</p>
    <button type="button" id="sendTestBtn">Send test email to rahulkumar53500@gmail.com</button>
    <div id="result"></div>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
        (function () {
            var PUBLIC_KEY = 'MdwkpD0G3e2-i47CO';
            var SERVICE_ID = 'service_hh832ug';
            var TEMPLATE_ID = 'template_boxmm7f';
            var RECIPIENT_EMAIL = 'rahulkumar53500@gmail.com';

            var btn = document.getElementById('sendTestBtn');
            var result = document.getElementById('result');

            function show(msg, isError) {
                result.textContent = msg;
                result.className = isError ? 'error' : 'success';
                result.style.display = 'block';
            }

            btn.addEventListener('click', function () {
                if (typeof emailjs === 'undefined') {
                    show('EmailJS script did not load. Check your connection.', true);
                    return;
                }
                btn.disabled = true;
                result.style.display = 'none';

                var templateParams = {
                    to_email: RECIPIENT_EMAIL,
                    to_name: 'Admin',
                    from_name: 'Test Sender',
                    from_email: 'test@verification.local',
                    phone: '-',
                    subject: 'Test verification – Hills Castle Inn',
                    message: 'This is a test email sent from test-email.html to verify that emails reach rahulkumar53500@gmail.com.',
                    guest: '',
                    from_date: '',
                    to_date: '',
                    room_type: '',
                    reply_to: '',
                    user_email: '',
                    user_name: 'Test Sender',
                    user_phone: '-'
                };

                emailjs.init(PUBLIC_KEY);
                emailjs.send(SERVICE_ID, TEMPLATE_ID, templateParams)
                    .then(function () {
                        show('Test email sent. Check the inbox (and spam) for rahulkumar53500@gmail.com.');
                    })
                    .catch(function (err) {
                        show('Error: ' + (err.text || err.message || JSON.stringify(err)));
                    })
                    .finally(function () {
                        btn.disabled = false;
                    });
            });
        })();
    </script>
</body>
</html>
